{"version":3,"file":"static/js/857.43c58070.chunk.js","mappings":"qNACA,EAA2B,2B,2BCA3B,EAAuB,6BAAvB,EAAwG,gCAAxG,EAAkJ,gC,SC8ClJ,EAzCuB,SAACA,GACtB,IAAMC,GAAiBC,EAAAA,EAAAA,UAEvB,GAAuCC,EAAAA,EAAAA,GAAQC,EAAAA,IAAvCC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,OAAQC,EAA7B,EAA6BA,MACrBC,EAAmBR,EAAnBQ,gBAERC,EAAAA,EAAAA,YAAU,WACO,cAAXH,GAA2BC,GAC7BC,MAED,CAACF,EAAQC,IAEZ,IAAMG,EAAoB,SAACC,GACzBA,EAAMC,iBAEN,IAAMC,EAAcZ,EAAea,QAAQC,MAE3CV,EAAY,CACVW,YAAa,CACXC,KAAMJ,GAERK,GAAIlB,EAAMmB,WAId,OACE,kBAAMC,UAAWC,EAAcC,SAAUZ,EAAzC,UACc,YAAXJ,IAAwB,gBAAKc,UAAU,WAAf,UACrB,SAACG,EAAA,EAAD,OAEJ,iBAAKH,UAAWC,EAAiBC,SAAUZ,EAA3C,WACE,kBAAOc,QAAQ,UAAf,yBACA,qBAAUN,GAAG,UAAUO,KAAK,IAAIC,IAAKzB,QAEvC,gBAAKmB,UAAWC,EAAhB,UACE,mBAAQD,UAAU,MAAlB,mCCxCR,EAAuB,0BCSvB,EARoB,SAACpB,GACnB,OACE,eAAIoB,UAAWC,EAAf,UACE,uBAAIrB,EAAMiB,UCJhB,EAA2B,+BCY3B,EAVqB,SAACjB,GACpB,OACE,eAAIoB,UAAWC,EAAf,SACGrB,EAAM2B,SAASC,KAAI,SAACC,GAAD,OAClB,SAAC,EAAD,CAA8BZ,KAAMY,EAAQZ,MAA1BY,EAAQX,UCoDlC,EAjDiB,WACf,OAA8CY,EAAAA,EAAAA,WAAS,GAAvD,eAAOC,EAAP,KAAwBC,EAAxB,KACMC,GAASC,EAAAA,EAAAA,MACPhB,EAAOe,EAAPf,GAER,GAAsDf,EAAAA,EAAAA,GAAQgC,EAAAA,IAAtD9B,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,OAAc8B,EAAnC,EAA6BC,MAE7B5B,EAAAA,EAAAA,YAAU,WACRJ,EAAYa,KACX,CAACA,EAAIb,IAER,IAQIsB,EAJEW,GAAsBC,EAAAA,EAAAA,cAAY,WACtClC,EAAYa,KACX,CAACb,EAAaa,IAkBjB,MAde,YAAXZ,IACFqB,GAAW,gBAAKP,UAAU,WAAf,UACT,SAACG,EAAA,EAAD,OAIW,cAAXjB,IAA2B8B,GAAkBA,EAAeI,OAAS,KACvEb,GAAW,SAAC,EAAD,CAAcA,SAAUS,KAGtB,cAAX9B,GAA4B8B,GAA4C,IAA1BA,EAAeI,SAC/Db,GAAW,cAAGP,UAAU,WAAb,kCAIX,qBAASA,UAAWC,EAApB,WACE,+CACEU,IACA,mBAAQX,UAAU,MAAMqB,QA5BC,WAC7BT,GAAmB,IA2Bf,6BAIDD,IAAmB,SAAC,EAAD,CAAgBZ,QAASc,EAAOf,GAAIV,eAAgB8B,IACvEX,MCrDP,EAAwB,gCCUxB,EATyB,SAAC3B,GACxB,OACE,oBAAQoB,UAAWC,EAAnB,WACE,uBAAIrB,EAAMiB,QACV,gCAAajB,EAAM0C,aC0DzB,EAjDqB,YACHC,EAAAA,EAAAA,MAAd,IAMMC,GADSV,EAAAA,EAAAA,MACQhB,GAEvB,GAA0Df,EAAAA,EAAAA,GAAQ0C,EAAAA,IAAgB,GAA1ExC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,OAAcwC,EAAnC,EAA6BT,KAAmB9B,EAAhD,EAAgDA,MAQhD,OANAE,EAAAA,EAAAA,YAAU,WACNJ,EAAYuC,KACb,CAACvC,EAAauC,IAIF,YAAXtC,GAEI,gBAAKc,UAAU,WAAf,UACI,SAACG,EAAA,EAAD,MAKRhB,GAEI,cAAGa,UAAU,WAAb,SAAyBb,IAI5BuC,EAAY7B,MAIb,4BACI,SAAC,EAAD,CAAkBA,KAAM6B,EAAY7B,KAAMyB,OAAQI,EAAYJ,UAC9D,SAAC,KAAD,CAAOK,KAAK,iBAAiBC,OAAK,EAAlC,UACI,gBAAK5B,UAAU,WAAf,UACI,SAAC,KAAD,CAAMA,UAAU,YAAY6B,GAAE,qBAAgBL,EAAhB,aAA9B,gCAGR,SAAC,KAAD,CAAOG,KAAK,0BAAZ,UACI,SAAC,EAAD,UAXD","sources":["webpack://react-complete-guide/./src/components/comments/Comments.module.css?d88e","webpack://react-complete-guide/./src/components/comments/NewCommentForm.module.css?81c1","components/comments/NewCommentForm.js","webpack://react-complete-guide/./src/components/comments/CommentItem.module.css?204f","components/comments/CommentItem.js","webpack://react-complete-guide/./src/components/comments/CommentsList.module.css?06d6","components/comments/CommentsList.js","components/comments/Comments.js","webpack://react-complete-guide/./src/components/quotes/HighlightedQuote.module.css?c98c","components/quotes/HighlightedQuote.js","pages/QuoteDetail.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"comments\":\"Comments_comments__joRaS\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"NewCommentForm_form__d0jSO\",\"loading\":\"NewCommentForm_loading__wj-U1\",\"control\":\"NewCommentForm_control__E705J\",\"actions\":\"NewCommentForm_actions__wpbcl\"};","import { useRef, useEffect } from 'react';\r\nimport useHttp from '../../hooks/use-http';\r\nimport { addComment } from '../../lib/api';\r\nimport LoadingSpinner from '../UI/LoadingSpinner';\r\nimport classes from './NewCommentForm.module.css';\r\n\r\nconst NewCommentForm = (props) => {\r\n  const commentTextRef = useRef();\r\n\r\n  const { sendRequest, status, error } = useHttp(addComment);\r\n  const { onAddedComment } = props;\r\n\r\n  useEffect(() => {\r\n    if (status === 'completed' && !error) {\r\n      onAddedComment();\r\n    }\r\n  }, [status, error])\r\n\r\n  const submitFormHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredText = commentTextRef.current.value;\r\n\r\n    sendRequest({\r\n      commentData: {\r\n        text: enteredText\r\n      },\r\n      id: props.quoteId\r\n    })\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={submitFormHandler}>\r\n      {status === 'pending' && <div className='centered'>\r\n          <LoadingSpinner />\r\n        </div>}\r\n      <div className={classes.control} onSubmit={submitFormHandler}>\r\n        <label htmlFor='comment'>Komentarmu</label>\r\n        <textarea id='comment' rows='5' ref={commentTextRef}></textarea>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button className='btn'>Tambah Komentar</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewCommentForm;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"CommentItem_item__DarMW\"};","import classes from './CommentItem.module.css';\r\n\r\nconst CommentItem = (props) => {\r\n  return (\r\n    <li className={classes.item}>\r\n      <p>{props.text}</p>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CommentItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"comments\":\"CommentsList_comments__3US16\"};","import CommentItem from './CommentItem';\r\nimport classes from './CommentsList.module.css';\r\n\r\nconst CommentsList = (props) => {\r\n  return (\r\n    <ul className={classes.comments}>\r\n      {props.comments.map((comment) => (\r\n        <CommentItem key={comment.id} text={comment.text} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default CommentsList;\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport classes from './Comments.module.css';\r\nimport NewCommentForm from './NewCommentForm';\r\nimport useHttp from '../../hooks/use-http';\r\nimport { getAllComments } from '../../lib/api';\r\nimport LoadingSpinner from '../UI/LoadingSpinner';\r\nimport CommentsList from './CommentsList'\r\n\r\nconst Comments = () => {\r\n  const [isAddingComment, setIsAddingComment] = useState(false);\r\n  const params = useParams();\r\n  const { id } = params\r\n\r\n  const { sendRequest, status, data: loadedComments } = useHttp(getAllComments)\r\n\r\n  useEffect(() => {\r\n    sendRequest(id);\r\n  }, [id, sendRequest])\r\n\r\n  const startAddCommentHandler = () => {\r\n    setIsAddingComment(true);\r\n  };\r\n\r\n  const addedCommentHandler = useCallback(() => {\r\n    sendRequest(id)\r\n  }, [sendRequest, id])\r\n\r\n  let comments;\r\n\r\n  if (status === 'pending') {\r\n    comments = <div className='centered'>\r\n      <LoadingSpinner />\r\n    </div>\r\n  }\r\n\r\n  if (status === 'completed' && (loadedComments || loadedComments.length > 0)) {\r\n    comments = <CommentsList comments={loadedComments}/>\r\n  }\r\n\r\n  if (status === 'completed' && (!loadedComments || loadedComments.length === 0)) {\r\n    comments = <p className='centered'>Belum ada komentar</p>\r\n  }\r\n  \r\n  return (\r\n    <section className={classes.comments}>\r\n      <h2>Komentar pengguna</h2>\r\n      {!isAddingComment && (\r\n        <button className='btn' onClick={startAddCommentHandler}>\r\n          Tambah komentar\r\n        </button>\r\n      )}\r\n      {isAddingComment && <NewCommentForm quoteId={params.id} onAddedComment={addedCommentHandler} />}\r\n      {comments}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"quote\":\"HighlightedQuote_quote__NoiQb\"};","import classes from './HighlightedQuote.module.css';\r\n\r\nconst HighlightedQuote = (props) => {\r\n  return (\r\n    <figure className={classes.quote}>\r\n      <p>{props.text}</p>\r\n      <figcaption>{props.author}</figcaption>\r\n    </figure>\r\n  );\r\n};\r\n\r\nexport default HighlightedQuote;\r\n","import { useEffect } from \"react\";\r\nimport { useParams, Route, Link, useRouteMatch } from \"react-router-dom\";\r\nimport Comments from \"../components/comments/Comments\";\r\nimport HighlightedQuote from \"../components/quotes/HighlightedQuote\";\r\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { getSingleQuote } from '../lib/api'\r\n\r\nconst DUMMY_QUOTES = [\r\n    { id: 1, text: 'Halo Dunia', author: 'Saya' },\r\n    { id: 2, text: 'Melihat Senja', author: 'Saya' },\r\n    { id: 3, text: 'Dalam Naungan Cinta', author: 'Saya' },\r\n    { id: 4, text: 'Bermuka Dua', author: 'Saya' },\r\n]\r\n\r\nconst QuoteDetails = () => {\r\n    const match = useRouteMatch();\r\n    // ganti /quotes/id/:id/ jadi \r\n        // {match.path} buat ganti route path biar fleksibel\r\n        // {match.url} di link biar fleksibel\r\n\r\n    const params = useParams();\r\n    const paramId = params.id;\r\n\r\n    const { sendRequest, status, data: loadedQuote, error } = useHttp(getSingleQuote, true);\r\n\r\n    useEffect(() => {\r\n        sendRequest(paramId);\r\n    }, [sendRequest, paramId])\r\n\r\n    // const quote = DUMMY_QUOTES.find(quote => quote.id === paramId)\r\n\r\n    if (status === 'pending') {\r\n        return (\r\n            <div className=\"centered\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <p className='centered'>{error}</p>\r\n        )\r\n    }\r\n\r\n    if (!loadedQuote.text) {\r\n        return <p>Quote tidak ditemukan!</p>\r\n    }\r\n    return (\r\n        <div>\r\n            <HighlightedQuote text={loadedQuote.text} author={loadedQuote.author}/>\r\n            <Route path='/quotes/id/:id' exact>\r\n                <div className=\"centered\">\r\n                    <Link className=\"btn--flat\" to={`/quotes/id/${paramId}/comments`}>Buka komentar</Link>\r\n                </div>\r\n            </Route>\r\n            <Route path='/quotes/id/:id/comments'>\r\n                <Comments />\r\n            </Route>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default QuoteDetails;"],"names":["props","commentTextRef","useRef","useHttp","addComment","sendRequest","status","error","onAddedComment","useEffect","submitFormHandler","event","preventDefault","enteredText","current","value","commentData","text","id","quoteId","className","classes","onSubmit","LoadingSpinner","htmlFor","rows","ref","comments","map","comment","useState","isAddingComment","setIsAddingComment","params","useParams","getAllComments","loadedComments","data","addedCommentHandler","useCallback","length","onClick","author","useRouteMatch","paramId","getSingleQuote","loadedQuote","path","exact","to"],"sourceRoot":""}